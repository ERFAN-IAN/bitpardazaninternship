{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 60vh">
    <div style="max-width: 40rem">
        <div style="display: flex; justify-content: space-between; width: 100%; font-weight: bold; margin-bottom: 2rem">
            <p>Balance:</p>
            <p>  {{ request.user.profile.balance|intcomma }}</p>
        </div>
        <form method="post" style="display: flex; flex-direction: column; gap: 1rem; " enctype="multipart/form-data">
            {% csrf_token %}
            <div style="display: flex">
                <div style="align-self: end">
                    {{ form.avatar.label_tag }}
                </div>
                {% if form.instance.avatar %}
                    <img src="{{ form.instance.avatar.url }}" alt="Current Avatar" style="margin-inline: auto;width: 150px; height: 150px; object-fit: cover; border-radius: 0.5rem; border: 1px solid #ccc;">
                    {% else %}
                    <img src="{% static 'images/default_avatar.webp' %}" alt="Current Avatar" style="margin-inline: auto;width: 150px; height: 150px; object-fit: cover; border-radius: 0.5rem; border: 1px solid #ccc;">
                {% endif %}
            </div>


            {{ form.avatar }}
            {{ form.avatar.errors }}

            <button type="submit"
                style="border-radius: 0.5rem; background-color: beige; color: black; border: none; padding: 0.5rem 1rem; cursor: pointer; transition: all 100ms;"
                onmouseover="this.style.backgroundColor='#333333'; this.style.color='white';"
                onmouseout="this.style.backgroundColor='beige'; this.style.color='black';">
                Submit
            </button>
        </form>
    </div>
    </div>
{% endblock content %}
